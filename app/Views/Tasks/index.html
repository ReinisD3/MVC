<?php require('app/Views/Public/head.html'); ?>

<body>
<div class="container">

    <div><h2>To do TASKS</h2></div>


    <table class="table">
        <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Title</th>
            <th scope="col">Time created at</th>
        </tr>
        </thead>

        <tbody>
        <?php foreach ($taskCollection->taskCollection() as $task) : ?>
        <tr>
            <td><?= $task->id() ?></td>
            <td><?= $task->title() ?></td>
            <td><?= $task->createdAt() ?></td>
        </tr>
        <?php endforeach ?>
        </tbody>
    </table>

    <br><br>

    <form method="post">

        <label for="title" class="form-label">Task title : </label>
        <input type="text" class="form-control" name="title" id="title"
               placeholder="<?php if(isset($_SESSION['_errors']['taskTitle'])) echo $_SESSION['_errors'][taskTitle]; ?>">
        <input type="submit" value="Add Task" name="submit" class="btn btn-dark"/>
    </form>
    <form method="get" action="tasks/search">
        <label for="searchId" class="form-label">Search by Id</label>
        <input type="number" name="searchId" class="form-control" id="searchId"
               placeholder="<?= isset($_SESSION['_errors']['searchError']) ? $_SESSION['_errors']['searchError'] : 'Enter ID' ;?>">
        <input type="submit" value="search" name="search" class="btn btn-dark"/>
    </form>
</div><br><br><br><br><br><br>


<?php require('app/Views/Public/footer.html'); ?>